{
    "Parameters": {
        "SharedConfigurationPath": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Path to the 'Shared Configuration' folder"
        },
        "SiteName": {
            "Type": "string",
            "DefaultValue": ""
        },
        "XConnectSiteName": {
            "Type": "string",
            "DefaultValue": ""
        },
        "SqlServer": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Name of SQL Server"
        },
        "SqlAdminUser": {
            "Type": "string",
            "DefaultValue": "sa",
            "Description": "SQL Admin user name"
        },
        "SqlAdminPassword": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "SQL Admin user password"
        },
        "DatabasePrefix": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "SecurityUserName": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "SecurityUserPassword": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "CoreUserName": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "CoreUserPassword": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "MasterUserName": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "MasterUserPassword": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Empty"
        },
        "AssetsJson": {
            "Type": "string",
            "DefaultValue": ""
        },
        "LoginSession": {
            "Type": "Microsoft.PowerShell.Commands.WebRequestSession"
        },
        "BootloaderPackagePath": {
            "Type": "string",
            "DefaultValue": "",
            "Description": "Path to the bootloader scwdp"
        },
        "BootloaderConfigurationOverride": {
            "Type": "string",
            "Description": "Optional configuration file override for bootloader"
        },
        "BootloaderInstallationPath": {
            "Type": "string",
            "Description": "Location of bootloader data folder"
        },
        "SolrUrl": {
            "Type": "string",
            "DefaultValue": "https://localhost:8721/solr",
            "Description": "The Solr instance url."
        },
        "SolrRoot": {
            "Type": "string",
            "DefaultValue": "c:\\solr\\solr-7.2.1",
            "Description": "The file path to the Solr instance."
        },
        "SolrService": {
            "Type": "string",
            "DefaultValue": "Solr-7.2.1",
            "Description": "The name of the Solr service."
        },
        "CorePrefix": {
            "Type": "string",
            "Description": "Solr Core Prefix"
        },
        "SitecoreAdminPassword": {
            "Type": "string",
            "Description": "Sitecore Admin password"
        },
        "WebRoot": {
            "Type": "string"
        },
        "InitializeInstallation:CoreUserName": {
            "Type": "string",
            "Reference": "CoreUserName"
        },
        "InitializeInstallation:SqlServer": {
            "Type": "string",
            "Reference": "SqlServer"
        },
        "InitializeInstallation:SecurityUserName": {
            "Type": "string",
            "Reference": "SecurityUserName"
        },
        "InitializeInstallation:SqlAdminUser": {
            "Type": "string",
            "Reference": "SqlAdminUser"
        },
        "InitializeInstallation:SqlAdminPassword": {
            "Type": "string",
            "Reference": "SqlAdminPassword"
        },
        "InitializeInstallation:DatabasePrefix": {
            "Type": "string",
            "Reference": "DatabasePrefix"
        },
        "InitializeInstallation:MasterUserName": {
            "Type": "string",
            "Reference": "MasterUserName"
        },
        "InitializeInstallation:SiteName": {
            "Type": "string",
            "Reference": "SiteName"
        },
        "InitializeInstallation:XConnectSiteName": {
            "Type": "string",
            "Reference": "XConnectSiteName"
        },
        "InitializeInstallation:BootloaderPackage": {
            "Type": "string",
            "Reference": "BootloaderPackagePath"
        },
        "InitializeInstallation:BootloaderConfigurationOverrideSource": {
            "Type": "string",
            "Reference": "BootloaderConfigurationOverride"
        },
        "InitializeInstallation:BootloaderConfigurationOverrideDestination": {
            "Type": "string",
            "Reference": "BootloaderInstallationPath"
        },
        "InstallSitecorePowershellExtensions:SqlServer": {
            "Type": "string",
            "Reference": "SqlServer"
        },
        "InstallSitecorePowershellExtensions:SqlAdminUser": {
            "Type": "string",
            "Reference": "SqlAdminUser"
        },
        "InstallSitecorePowershellExtensions:SqlAdminPassword": {
            "Type": "string",
            "Reference": "SqlAdminPassword"
        },
        "InstallSitecorePowershellExtensions:DatabasePrefix": {
            "Type": "string",
            "Reference": "DatabasePrefix"
        },
        "InstallSitecorePowershellExtensions:LoginSession": {
            "Type": "Microsoft.PowerShell.Commands.WebRequestSession",
            "Reference": "LoginSession"
        },
        "InstallSitecorePowershellExtensions:SiteName": {
            "Type": "string",
            "Reference": "SiteName"
        },
        "InstallSitecoreExperienceAccelerator:SqlServer": {
            "Type": "string",
            "Reference": "SqlServer"
        },
        "InstallSitecoreExperienceAccelerator:SqlAdminUser": {
            "Type": "string",
            "Reference": "SqlAdminUser"
        },
        "InstallSitecoreExperienceAccelerator:SqlAdminPassword": {
            "Type": "string",
            "Reference": "SqlAdminPassword"
        },
        "InstallSitecoreExperienceAccelerator:DatabasePrefix": {
            "Type": "string",
            "Reference": "DatabasePrefix"
        },
        "InstallSitecoreExperienceAccelerator:LoginSession": {
            "Type": "Microsoft.PowerShell.Commands.WebRequestSession",
            "Reference": "LoginSession"
        },
        "InstallSitecoreExperienceAccelerator:SiteName": {
            "Type": "string",
            "Reference": "SiteName"
        },
        "CompleteInstallation:SqlServer": {
            "Type": "string",
            "Reference": "SqlServer"
        },
        "CompleteInstallation:SqlAdminUser": {
            "Type": "string",
            "Reference": "SqlAdminUser"
        },
        "CompleteInstallation:SqlAdminPassword": {
            "Type": "string",
            "Reference": "SqlAdminPassword"
        },
        "CompleteInstallation:XConnectSiteName": {
            "Type": "string",
            "Reference": "XConnectSiteName"
        },
        "CompleteInstallation:SiteName": {
            "Type": "string",
            "Reference": "SiteName"
        },
        "CompleteInstallation:CoreUserName": {
            "Type": "string",
            "Reference": "CoreUserName"
        },
        "CompleteInstallation:CoreUserPassword": {
            "Type": "string",
            "Reference": "CoreUserPassword"
        },
        "CompleteInstallation:MasterUserName": {
            "Type": "string",
            "Reference": "MasterUserName"
        },
        "CompleteInstallation:MasterUserPassword": {
            "Type": "string",
            "Reference": "MasterUserPassword"
        },
        "CompleteInstallation:SecurityUserName": {
            "Type": "string",
            "Reference": "SecurityUserName"
        },
        "CompleteInstallation:SecurityUserPassword": {
            "Type": "string",
            "Reference": "SecurityUserPassword"
        },
        "CompleteInstallation:DatabasePrefix": {
            "Type": "string",
            "Reference": "DatabasePrefix"
        },
        "ConfigureSXAIndexes:SolrUrl": {
            "Type": "string",
            "Reference": "SolrUrl"
        },
        "ConfigureSXAIndexes:SolrRoot": {
            "Type": "string",
            "Reference": "SolrRoot"
        },
        "ConfigureSXAIndexes:SolrService": {
            "Type": "string",
            "Reference": "SolrService"
        },
        "ConfigureSXAIndexes:CorePrefix": {
            "Type": "string",
            "Reference": "CorePrefix"
        },
        "ConfigureSXAIndexes:SiteName": {
            "Type": "string",
            "Reference": "SiteName"
        },
        "ConfigureSXAIndexes:SitecoreAdminPassword": {
            "Type": "string",
            "Reference": "SitecoreAdminPassword"
        },
        "ConfigureSXASearchIndexes:SitePrefix": {
            "Type": "string",
            "Reference": "CorePrefix"
        }
    },
    "Variables": {
        "Modules": "[ReadJson(parameter('AssetsJson'))]",
        "SitecorePowershellExtensionsModule": "[GetSitecoreModuleDetails(variable('Modules'),'spe')]",
        "SitecoreExperienceAcceleratorModule": "[GetSitecoreModuleDetails(variable('Modules'),'sxa')]",
        "InstallSitecorePowershellExtensions:Module.Configuration": "[variable('SitecorePowershellExtensionsModule')]",
        "InstallSitecoreExperienceAccelerator:Module.Configuration": "[variable('SitecoreExperienceAcceleratorModule')]",
        "ConfigureSXASearchIndexes:Site.PhysicalPath": "[joinpath(parameter('WebRoot'),parameter('SiteName'))]"
    },
    "Settings": {
        "AutoRegisterExtensions": true
    },
    "Includes": {
        "InitializeInstallation": {
            "Source": ".\\pre-module-installation.json"
        },
        "InstallSitecorePowershellExtensions": {
            "Source": ".\\download-and-install-module.json"
        },
        "InstallSitecoreExperienceAccelerator": {
            "Source": ".\\download-and-install-module.json"
        },
        "CompleteInstallation": {
            "Source": ".\\post-module-installation.json"
        },
        "ConfigureSXASearchIndexes": {
            "Source": ".\\sxa\\configure-search-indexes.json"
        },
        "ConfigureSXAIndexes": {
            "Source": ".\\sxa\\sxa-solr.json"
        }
    }
}